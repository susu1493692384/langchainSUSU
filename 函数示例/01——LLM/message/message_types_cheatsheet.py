#!/usr/bin/env python3
"""
ChatOpenAI æ¶ˆæ¯ç±»å‹é€ŸæŸ¥è¡¨
message = HumanMessage(content="ä½ å¥½ï¼") åé¢å¯ä»¥æœ‰ä»€ä¹ˆç±»å‹çš„æ¶ˆæ¯

å¿«é€Ÿå‚è€ƒæ‰€æœ‰å¯ç”¨çš„æ¶ˆæ¯ç±»å‹å’Œç”¨æ³•
"""

from langchain_core.messages import (
    HumanMessage,           # ğŸ‘¤ äººç±»æ¶ˆæ¯ - ç”¨æˆ·è¾“å…¥
    AIMessage,             # ğŸ¤– AIæ¶ˆæ¯ - AIçš„å›å¤
    SystemMessage,         # âš™ï¸ ç³»ç»Ÿæ¶ˆæ¯ - å®šä¹‰AIè§’è‰²å’Œè¡Œä¸º
    ToolMessage,           # ğŸ”§ å·¥å…·æ¶ˆæ¯ - å·¥å…·æ‰§è¡Œç»“æœ
    ChatMessage,           # ğŸ’¬ é€šç”¨æ¶ˆæ¯ - ä»»æ„è§’è‰²çš„æ¶ˆæ¯
)

# ================================
# ğŸ”¥ æœ€å¸¸ç”¨çš„æ¶ˆæ¯ç±»å‹ (95%çš„æƒ…å†µä¸‹ä½¿ç”¨è¿™äº›)
# ================================

# 1. äººç±»æ¶ˆæ¯ - è¡¨ç¤ºç”¨æˆ·çš„è¾“å…¥
human_msg = HumanMessage(
    content="ä½ å¥½ï¼è¯·ç”¨ä¸­æ–‡ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±ã€‚",
    name="user_001"  # å¯é€‰ï¼šç”¨æˆ·æ ‡è¯†
)

# 2. ç³»ç»Ÿæ¶ˆæ¯ - å®šä¹‰AIçš„è§’è‰²å’Œè§„åˆ™
system_msg = SystemMessage(
    content="ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç¼–ç¨‹åŠ©æ‰‹ï¼Œå›ç­”è¦ç®€æ´æ˜äº†ã€‚"
)

# 3. AIæ¶ˆæ¯ - ä¿å­˜AIä¹‹å‰çš„å›å¤ï¼Œç”¨äºå¤šè½®å¯¹è¯
ai_msg = AIMessage(
    content="æˆ‘æ˜¯ä¸€ä¸ªAIåŠ©æ‰‹ï¼Œå¯ä»¥å¸®åŠ©ä½ è§£å†³ç¼–ç¨‹é—®é¢˜ã€‚"
)

# ================================
# ğŸš€ å®Œæ•´çš„æ¶ˆæ¯åˆ—è¡¨ç¤ºä¾‹
# ================================

# åŸºç¡€å•è½®å¯¹è¯
messages_basic = [
    HumanMessage(content="ä½ å¥½ï¼è¯·ç”¨ä¸­æ–‡ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±ã€‚")
]

# å¸¦ç³»ç»ŸæŒ‡ä»¤çš„å¯¹è¯
messages_with_system = [
    SystemMessage(content="ä½ æ˜¯ä¸€ä¸ªPythonä¸“å®¶ã€‚"),
    HumanMessage(content="ä»€ä¹ˆæ˜¯åˆ—è¡¨æ¨å¯¼å¼ï¼Ÿ")
]

# å¤šè½®å¯¹è¯
messages_conversation = [
    SystemMessage(content="ä½ æ˜¯ä¸€ä¸ªç¼–ç¨‹è€å¸ˆã€‚"),
    HumanMessage(content="ä»€ä¹ˆæ˜¯å˜é‡ï¼Ÿ"),
    AIMessage(content="å˜é‡æ˜¯ç”¨æ¥å­˜å‚¨æ•°æ®çš„å®¹å™¨ã€‚"),
    HumanMessage(content="å¦‚ä½•å®šä¹‰å˜é‡ï¼Ÿ")
]

# ================================
# ğŸ› ï¸ é«˜çº§æ¶ˆæ¯ç±»å‹ (5%çš„æƒ…å†µä¸‹ä½¿ç”¨)
# ================================

# 4. å·¥å…·æ¶ˆæ¯ - å½“AIè°ƒç”¨å·¥å…·åè¿”å›ç»“æœ
tool_msg = ToolMessage(
    content="è®¡ç®—ç»“æœ: 4",           # å·¥å…·æ‰§è¡Œçš„ç»“æœ
    tool_call_id="calc_001",         # å¯¹åº”çš„å·¥å…·è°ƒç”¨ID
    name="calculator"                # å·¥å…·åç§°
)

# 5. å¸¦å·¥å…·è°ƒç”¨çš„AIæ¶ˆæ¯
ai_with_tools = AIMessage(
    content="æˆ‘æ¥å¸®ä½ è®¡ç®—ã€‚",
    tool_calls=[                     # AIå†³å®šè°ƒç”¨çš„å·¥å…·
        {
            "id": "call_001",
            "type": "function",
            "function": {
                "name": "calculate",
                "arguments": '{"expression": "2+2"}'
            }
        }
    ]
)

# 6. é€šç”¨èŠå¤©æ¶ˆæ¯ - è‡ªå®šä¹‰è§’è‰²çš„æ¶ˆæ¯
custom_msg = ChatMessage(
    role="expert",                   # è‡ªå®šä¹‰è§’è‰²
    content="ä»ä¸“ä¸šè§’åº¦æ¥çœ‹..."
)

# ================================
# ğŸ¯ å®é™…ä½¿ç”¨ç¤ºä¾‹
# ================================

# ç¤ºä¾‹1: ç®€å•é—®ç­”
def simple_qa():
    messages = [
        HumanMessage(content="ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿ")
    ]
    # return llm.invoke(messages)

# ç¤ºä¾‹2: è§’è‰²æ‰®æ¼”
def role_playing():
    messages = [
        SystemMessage(content="ä½ æ˜¯ä¸€ååŒ»ç”Ÿã€‚"),
        HumanMessage(content="æˆ‘æœ€è¿‘æ€»æ˜¯å¤´ç—›ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ")
    ]
    # return llm.invoke(messages)

# ç¤ºä¾‹3: ä»£ç åŠ©æ‰‹
def code_assistant():
    messages = [
        SystemMessage(content="ä½ æ˜¯ä¸€ä¸ªPythonç¼–ç¨‹ä¸“å®¶ã€‚"),
        HumanMessage(content="è¯·è§£é‡Šä¸€ä¸‹Pythonçš„è£…é¥°å™¨ã€‚")
    ]
    # return llm.invoke(messages)

# ç¤ºä¾‹4: å¤šè½®å¯¹è¯
def multi_turn():
    messages = [
        SystemMessage(content="ä½ æ˜¯ä¸€ä¸ªAIåŠ©æ‰‹ã€‚"),
        HumanMessage(content="ä½ å¥½"),
        AIMessage(content="ä½ å¥½ï¼æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ"),
        HumanMessage(content="å¸®æˆ‘è§£é‡Šä¸€ä¸‹æ·±åº¦å­¦ä¹ ã€‚")
    ]
    # return llm.invoke(messages)

# ç¤ºä¾‹5: å·¥å…·è°ƒç”¨ (é«˜çº§ç”¨æ³•)
def tool_calling():
    messages = [
        SystemMessage(content="ä½ æ˜¯ä¸€ä¸ªæ•°å­¦åŠ©æ‰‹ã€‚"),
        HumanMessage(content="è®¡ç®— 2+2 ç­‰äºå¤šå°‘ï¼Ÿ"),
        AIMessage(
            content="æˆ‘æ¥å¸®ä½ è®¡ç®—ã€‚",
            tool_calls=[{
                "id": "calc_001",
                "type": "function",
                "function": {
                    "name": "calculate",
                    "arguments": '{"expression": "2+2"}'
                }
            }]
        ),
        ToolMessage(
            content="4",
            tool_call_id="calc_001"
        ),
        HumanMessage(content="è¯·è§£é‡Šè¿™ä¸ªç»“æœã€‚")
    ]
    # return llm.invoke(messages)

# ================================
# ğŸ“‹ å¿«é€Ÿå‚è€ƒè¡¨
# ================================

"""
æ¶ˆæ¯ç±»å‹é€ŸæŸ¥è¡¨:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç±»å‹             â”‚ ç”¨é€”          â”‚ ç¤ºä¾‹                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ HumanMessage    â”‚ ç”¨æˆ·è¾“å…¥      â”‚ ç”¨æˆ·é—®é¢˜ã€è¯·æ±‚ã€å¯¹è¯å†…å®¹         â”‚
â”‚ SystemMessage   â”‚ AIè§’è‰²å®šä¹‰    â”‚ "ä½ æ˜¯ç¼–ç¨‹ä¸“å®¶"ã€"ç®€æ´å›ç­”"       â”‚
â”‚ AIMessage       â”‚ AIå›å¤å†å²    â”‚ ä¿å­˜AIä¹‹å‰çš„å›ç­”ï¼Œç”¨äºå¤šè½®å¯¹è¯   â”‚
â”‚ ToolMessage     â”‚ å·¥å…·æ‰§è¡Œç»“æœ  â”‚ å‡½æ•°è°ƒç”¨çš„è¿”å›ç»“æœ               â”‚
â”‚ ChatMessage     â”‚ è‡ªå®šä¹‰è§’è‰²    â”‚ å¼€å‘è€…ã€æµ‹è¯•è€…ã€äº§å“ç»ç†ç­‰è§’è‰²   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¸¸ç”¨æ¶ˆæ¯æ¨¡å¼:

1. ğŸ¯ æœ€ç®€å•: [HumanMessage("é—®é¢˜")]
2. ğŸ­ è§’è‰²æ‰®æ¼”: [SystemMessage("è§’è‰²"), HumanMessage("é—®é¢˜")]
3. ğŸ’¬ å¯¹è¯å†å²: [System, Human1, AI1, Human2, AI2, Human3]
4. ğŸ”§ å·¥å…·è°ƒç”¨: [System, Human, AI(å¸¦tool_calls), Tool, Human]

æœ€ä½³å®è·µ:
âœ… æ€»æ˜¯ä»¥SystemMessageå¼€å§‹ï¼Œå®šä¹‰AIè§’è‰²
âœ… æ¯ä¸ªHumanMessageä»£è¡¨ä¸€ä¸ªç”¨æˆ·è¾“å…¥
âœ… AIMessageç”¨äºä¿å­˜å¯¹è¯å†å²
âœ… ä¿æŒæ¶ˆæ¯å†…å®¹ç®€æ´æ˜äº†
âœ… åˆç†ç»„ç»‡å¯¹è¯é¡ºåº
"""

if __name__ == "__main__":
    print("ğŸ’¬ ChatOpenAI æ¶ˆæ¯ç±»å‹é€ŸæŸ¥è¡¨")
    print("=" * 50)
    print()
    print("ğŸ”¥ æœ€å¸¸ç”¨çš„æ¶ˆæ¯ç±»å‹:")
    print("1. HumanMessage     - ç”¨æˆ·è¾“å…¥")
    print("2. SystemMessage    - å®šä¹‰AIè§’è‰²")
    print("3. AIMessage        - AIå›å¤å†å²")
    print()
    print("ğŸ› ï¸ é«˜çº§æ¶ˆæ¯ç±»å‹:")
    print("4. ToolMessage      - å·¥å…·æ‰§è¡Œç»“æœ")
    print("5. ChatMessage      - è‡ªå®šä¹‰è§’è‰²æ¶ˆæ¯")
    print()
    print("ğŸ“– å®Œæ•´ç”¨æ³•è¯·æŸ¥çœ‹: message_types_reference.py")